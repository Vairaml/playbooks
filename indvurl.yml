---
  - name: url
    hosts: linux
    ignore_errors: yes
    tasks:
      - name: Iwork4shc URL monitoring
        uri:
          url: https://96.47.48.243/APIHC/TASS/WebPortal/Main/Login.aspx
          validate_certs: False
          status_code: 200
          return_content: yes
        register: webcode

      - name: call a handler
        shell: echo ""
        notify: a
        when: webcode.status != 200

      - name: IDCH URL monitoring
        uri:
          url: https://itservices.stanfordmed.org/
          validate_certs: False
          status_code: 200
          return_content: yes
        register: webcode

      - name: call b handler
        shell: echo ""
        notify: b
        when: webcode.status != 200


      - name: IDCH Admin URL monitoring
        uri:
          url: https://itservices.stanfordmed.org/api/AdminPortal/ 
          validate_certs: False
          status_code: 200
          return_content: yes
        register: webcode

      - name: call c handler
        shell: echo ""
        notify: c
        when: webcode.status != 200


      - name: Prism URL monitoring
        uri:
          url: https://prism.stanfordhealthcare.org/EpicCareLink_LPCH/common/epic_check.asp?mode=TICKET
          validate_certs: False
          status_code: 200
          return_content: yes
        register: webcode

      - name: call d handler
        shell: echo ""
        notify: d
        when: webcode.status != 200


      - name: Prism URL monitoring
        uri:
          url: https://prism.stanfordhealthcare.org/prism/login/login
          validate_certs: False
          status_code: 200
          return_content: yes
        register: webcode

      - name: call e handler
        shell: echo ""
        notify: e
        when: webcode.status != 200

      - name: Iwork4shc Internal URL monitoring
        uri:
          url: https://iwork4shc.stanfordmed.org/APIHC/TASS/WebPortal/Main/Login.aspx
          validate_certs: False
          status_code: 200
          return_content: yes
        register: webcode

      - name: call g handler
        shell: echo ""
        notify: g
        when: webcode.status != 200

  
      - name: Jos Internal URL monitoring
        uri:
          url:  https://Jobs.stanfordmed.org/
          validate_certs: False
          status_code: 200
          return_content: yes
        register: webcode

      - name: call h handler
        shell: echo ""
        notify: h
        when: webcode.status != 200
     
      - name: Jobs External URL monitoring
        uri:
          url: https://96.47.50.157/CSS_External/CSSPage_Welcome.asp
          validate_certs: False
          status_code: 200
          return_content: yes
        register: webcode
        
      - name: call k handler
        shell: echo
        notify: k
        when: webcode.status != 200

    handlers:
      - name: a
        mail:
          host: smtp.stanfordmed.org
          port: 25
          from: s0204339@stanfordhealthcare.org
          to: "DL-HCL-MW-IIS@stanfordhealthcare.org"
          subject: Iwork4shc External URL not working
          body: 'IGreen url is down https://96.47.48.243/APIHC/TASS1/WebPortal/Main/Login.aspx'

      - name: b
        mail:
          host: smtp.stanfordmed.org
          port: 25
          from: s0204339@stanfordhealthcare.org
          to: "DL-HCL-MW-IIS@stanfordhealthcare.org"
          subject: IDCH URL not working
          body: 'IDCH base url is down https://itservices.stanfordmed.org/'

      - name: c
        mail:
          host: smtp.stanfordmed.org
          port: 25
          from: s0204339@stanfordhealthcare.org
          to: "DL-HCL-MW-IIS@stanfordhealthcare.org"
          subject: IDCH URL not working
          body: 'IDCH admin url is down https://itservices.stanfordmed.org/api/AdminPortal/'

      - name: d
        mail:
          host: smtp.stanfordmed.org
          port: 25
          from: s0204339@stanfordhealthcare.org
          to: "DL-HCL-MW-IIS@stanfordhealthcare.org"
          subject: Prism URL not working
          body: 'Prism url is down https://prism.stanfordhealthcare.org/EpicCareLink_LPCH/common/epic_check.asp?mode=TICKET'

      - name: e
        mail:
          host: smtp.stanfordmed.org
          port: 25
          from: s0204339@stanfordhealthcare.org
          to: "DL-HCL-MW-IIS@stanfordhealthcare.org"
          subject: Prism Login URL not working
          body: 'Prism Login url is down https://prism.stanfordhealthcare.org/prism/login/login'

      - name: g
        mail:
          host: smtp.stanfordmed.org
          port: 25
          from: s0204339@stanfordhealthcare.org
          to: "DL-HCL-MW-IIS@stanfordhealthcare.org"
          subject: Iwork4shc Internal URL not working
          body: 'Iwork4shc Internal URL is down https://iwork4shc.stanfordmed.org/APIHC/TASS/WebPortal/Main/Login.aspx'

      - name: h
        mail:
          host: smtp.stanfordmed.org
          port: 25
          from: s0204339@stanfordhealthcare.org
          to: "DL-HCL-MW-IIS@stanfordhealthcare.org"
          subject: Jobs URL not working
          body: 'Jobs Internal url is down https://jobs.stanfordmed.org'

      - name: k
        mail:
          host: smtp.stanfordmed.org
          port: 25
          from: s0204339@stanfordhealthcare.org
          to: "DL-HCL-MW-IIS@stanfordhealthcare.org"
          subject: Jobs URL not working
          body: 'Jobs External url is down https://96.47.50.157/CSS_External/CSSPage_Welcome.asp'
